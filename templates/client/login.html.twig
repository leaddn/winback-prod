{% extends 'base.html.twig' %}

{% block title %}{{'Winback Interface | Login | Welcome!'|trans}}{% endblock %}

{% block content %}

<div class="row d-flex justify-content-center align-items-center h-100 vh-sm-100 w-100 mt-5 mb-5 p-5">
    <div class="col-md-9 col-lg-6 col-xl-5 p-5">
        <img src="{{ asset('img/winback-logo.webp') }}" class="img-fluid" alt="">
    </div>
    <div class="col-md-8 col-lg-6 col-xl-4 offset-xl-1 d-flex justify-content-center">

    <form action="" method="post" class="text-center row d-flex flex-column align-items-center justify-content-around mt-2 mb-2 mt-sm-2 mb-sm-2 pt-1 pb-3 pt-sm-2 px-sm-5 px-3 login">
        <h2 class="mt-1 mb-1 mt-sm-2 mb-sm-2">Login</h2>
        {% if error %}
            <div class="alert alert-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
            {#{{ app.user.role }}#}
        {% endif %}

        {% if app.user %}
            <div class="mt-1 mb-1 mt-sm-2 mb-sm-2">
                You are logged in as {{ app.user.username }}, <a href="{{ path('app_logout') }}">Logout ?</a>
            </div>
        {% endif %}
        
        <label for="username">Email:</label>
        <input type="text" id="username" name="_username" value="{{ last_username }}">

        <label for="password">Password:</label>
        <input type="password" id="password" name="_password">

        {# If you want to control the URL the user is redirected to on success
        <input type="hidden" name="_target_path" value="/account"> #}


        <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">
        
        <button type="submit">login <svg width="7" height="15" viewBox="0 0 7 15" fill="none"><path d="M-0.000264168 0H3.14905L6.81055 7.49834L3.14905 15H-0.000264168L3.66123 7.49834L-0.000264168 0Z" fill="white"></path></svg></button>
        <!--path to registration-->
        <div class="divider d-flex align-items-center my-4">
            <p class="text-center fw-bold mx-3 mb-0">Or</p>
        </div>
        <div class="d-flex justify-content-around align-items-center w-100 p-0 flex-wrap">
            <p class="mb-0 text-break text-nowrap mb-1">Not registered yet ?</p>
            <a class="btn btn-secondary txt-white text-break text-nowrap mb-1" href="{{ path('app_client_register') }}">Sign Up</a>
        </div>
    </form>
    </div>

</div>


{% endblock %}

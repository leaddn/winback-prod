<!-- ===== INFO MODALS ===== -->
{% for device in devices %}
    <div class="modal shadow-1 white falling overflow-scroll p-4" id="modal_info_{{device.id}}" data-ax="modal" aria-hidden="true" tabindex="-1">
        <div class="modal-dialog">


        <div class="modal-content">
            <div class="modal-header">
            <h5 class="text-center w-100 align-middle">{{ 'Device Info'|trans }}</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>

            <div class="divider"></div>
            <div class="responsive-table px-4">
                    <div>
                    </div>
                        <div>
                            <div>{{ 'Serial Number'|trans }} :</div>
                            <div>{{device.sn}}</div>
                        </div>
                        <div>
                            <div>{{ 'Device Type'|trans }} :</div>
                            <div>{{device.deviceFamily}}</div>
                        </div>
                        <div>
                            <div>{{ 'Version'|trans }} :</div>
                            <div>{{device.version}}</div>
                        </div>
                        <div>
                            <div>{{ 'IP Address'|trans }} :</div>
                            <div>{{device.ipAddr}}</div>
                        </div>
                        <div class="d-flex">
                            <div>
                                <div>{{ 'Country'|trans }} :</div>
                                <div>{{device.country}}</div>
                            </div>
                            <div>
                                <div>{{ 'City'|trans }} :</div>
                                <div>{{device.city}}</div>
                            </div>
                        </div>
                        <div>
                            <div>{{ 'Advertising'|trans }} :</div>
                            <div class="{{(device.pub)? 'device-active': 'device-inactive'}}">
                            {{ (device.pub)? 'Yes': 'No'}}
                            </div>
                        </div>
                        <div>
                            <div>{{ 'PIN code'|trans }} :</div>
                            <div>{{device.codePin}}</div>
                        </div>
                        <div>
                            <div>{{ 'Creation Date'|trans }} :</div>
                            <div>{{device.createdAt|format_datetime('medium', 'short')}}</div>
                        </div>
                        <div>
                            <div>{{ 'Update Date'|trans }} :</div>
                            <div>{{device.updatedAt|format_datetime('medium', 'short')}}</div>
                        </div>
                        <div>
                            <div>{{ 'Status'|trans }} :</div>
                            <div>
                                <div class="{{(device.isActive)? 'device-active': 'device-inactive'}}">{{(device.isActive)? 'Active':'Inactive'}}</div>
                            </div>
                        </div>
                        {% if is_granted("ROLE_SUPER_ADMIN") %}
                        <div>
                            <dir>{{ 'Connect'|trans }} :</dir>
                            <dir>
                                {% if (device.deviceFamily == "BIOBACK" or device.deviceFamily == "RSHOCK" or device.deviceFamily == "CRYOBACK4") %}
                                    
                                    <input class="btn bg-green btn-outline-green connect_button" 
                                    id="c_sn_{{device.sn}}" 
                                    data-id="connect_{{device.id}}" 
                                    name='{{device.sn}}' type="button" value="Connect" 
                                    data-bs-toggle="modal" data-bs-target="#testAcces_{{device.id}}">
                                {% endif %}
                            </dir>
                        </dir>
                        {% endif %}

                        {% if is_granted("ROLE_GOE")%}
                        <div>
                            <div>{{ 'Forced'|trans }} :</div>
                            <div>
                                <input type="checkbox" 
                                id="forced_{{device.id}}"
                                {{ (device.forced)? 'checked': ''}} 
                                data-id="{{device.id}}" 
                                name="switchbox">
                            </div>
                        </div>
                        <div>
                            <div>{{ 'Upload Version'|trans }} :</div>
                            <div>
                                <input type="text"
                                    data-id="{{device.id}}" 
                                    name="" value="" 
                                    id="update_{{device.id}}"
                                    class="update-zone">
                            </div>
                        </div>
                        <div>
                            <div>{{ 'Change Server'|trans }}</div>
                            <div>
                            {{device.serverId}}
                            </div>
                        </div>
                        {% endif %}
                
            </div>
            <div class="divider"></div>
            <div class="modal-footer">
                {% if is_granted("ROLE_GOE")%}
                <div>
                    <button type="button"
                    class="update btn btn-dark red shadow-1 rounded-1 small valid-buttons"  
                    name="{{device.id}}">{{ 'Validate'|trans }}
                    </button>
                </div>
                {% endif %}
            </div>
        </div>
        </div>
    </div>

    {% include 'device/acces_modals.html.twig' %}
{% endfor %}